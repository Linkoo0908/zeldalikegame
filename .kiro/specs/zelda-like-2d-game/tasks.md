# Implementation Plan

- [x] 1. 프로젝트 구조 및 개발 환경 설정

  - 프로젝트 디렉토리 구조 생성
  - requirements.txt 파일 작성 (pygame, pillow 등)
  - 기본 설정 파일들 (settings.json, controls.json) 생성
  - _Requirements: 2.1, 2.3_

- [x] 1.5 Python 가상환경 설정 및 검증

  - Python venv를 사용하여 가상환경 생성 및 활성화
  - 가상환경에서 requirements.txt 의존성 설치 확인
  - 가상환경 활성화 스크립트 작성 (activate_env.bat/activate_env.sh)
  - 가상환경에서 게임 실행 테스트
  - _Requirements: 7.1, 7.2, 7.3, 7.4_

- [x] 2. 핵심 게임 엔진 기반 구조 구현

- [x] 2.1 GameObject 기본 클래스 구현

  - GameObject 기본 클래스 작성 (위치, 크기, 렌더링 메서드)
  - 기본 업데이트 및 렌더링 인터페이스 정의
  - GameObject 단위 테스트 작성
  - _Requirements: 1.1, 2.1_

- [x] 2.2 ResourceManager 구현

  - 이미지 로딩 및 캐싱 시스템 구현
  - 기본 에러 처리 (파일 없음 시 기본 이미지 사용)
  - 리소스 관리 단위 테스트 작성
  - _Requirements: 2.1, 2.2_

- [x] 2.3 Game 메인 클래스 및 게임 루프 구현

  - Pygame 초기화 및 메인 게임 루프 구현
  - 기본 이벤트 처리 (종료, 키 입력) 구현
  - FPS 제한 및 델타 타임 계산 구현
  - main.py에서 Game 클래스 인스턴스화 및 실행
  - _Requirements: 2.3_

- [x] 3. 입력 및 플레이어 시스템 구현

- [x] 3.1 InputSystem 클래스 구현

  - 키보드 입력 상태 추적 시스템 구현
  - 이동 벡터 계산 메서드 구현
  - 키 입력 단위 테스트 작성
  - _Requirements: 1.1_

- [x] 3.2 Player 클래스 기본 구현

  - Player 클래스 작성 (GameObject 상속)
  - 기본 이동 로직 구현
  - 플레이어 스프라이트 렌더링 구현
  - _Requirements: 1.1, 2.2_

- [x] 3.3 플레이어 이동 및 애니메이션 구현

  - 방향별 이동 처리 및 속도 제어 구현
  - 기본 이동 애니메이션 시스템 구현
  - 이동 경계 검사 로직 구현
  - _Requirements: 1.1, 1.3_

- [x] 4. 맵 및 충돌 시스템 구현

- [x] 4.1 기본 맵 데이터 구조 및 로딩 구현

  - JSON 기반 맵 데이터 구조 정의
  - 맵 로딩 및 파싱 시스템 구현
  - 기본 테스트 맵 데이터 생성
  - _Requirements: 6.1, 6.4_

- [x] 4.2 타일 기반 맵 렌더링 구현

  - 타일 기반 맵 렌더링 시스템 구현
  - 카메라 시스템 기본 구현 (플레이어 중심)
  - 맵 렌더링 최적화 (화면 밖 타일 컬링)
  - _Requirements: 2.1, 6.1_

- [x] 4.3 CollisionSystem 구현

  - 기본 AABB 충돌 감지 구현
  - 맵 타일과의 충돌 감지 구현
  - 플레이어-맵 충돌 처리 구현
  - _Requirements: 1.2, 6.4_

- [x] 5. 전투 시스템 기본 구현

- [x] 5.1 플레이어 공격 시스템 구현

  - 공격 키 입력 처리 구현
  - 공격 범위 및 데미지 계산 구현
  - 공격 애니메이션 기본 구현
  - _Requirements: 3.1_

- [x] 5.2 Enemy 기본 클래스 구현

  - Enemy 클래스 작성 (GameObject 상속)
  - 기본 AI 이동 패턴 구현
  - 적 체력 시스템 구현
  - _Requirements: 3.2, 3.3_

- [x] 5.3 플레이어-적 전투 상호작용 구현

  - 플레이어 공격이 적에게 데미지를 주는 로직 구현
  - 적이 플레이어를 공격하는 로직 구현
  - 적 처치 시 제거 및 보상 시스템 구현
  - _Requirements: 3.1, 3.2, 3.3, 3.4_

- [x] 6. 아이템 시스템 구현

- [x] 6.1 Item 클래스 및 수집 시스템 구현

  - Item 클래스 작성 (GameObject 상속)
  - 플레이어-아이템 충돌 감지 및 수집 구현
  - 기본 아이템 타입들 (체력 포션, 무기) 구현
  - _Requirements: 4.1, 4.2_

- [x] 6.2 인벤토리 시스템 구현

  - 플레이어 인벤토리 데이터 구조 구현
  - 아이템 추가/제거 로직 구현
  - 인벤토리 단위 테스트 작성
  - _Requirements: 4.2_

- [x] 6.3 아이템 사용 시스템 구현

  - 소모품 아이템 사용 로직 구현
  - 장비 아이템 착용 시스템 구현
  - 아이템 효과 적용 시스템 구현
  - _Requirements: 4.4_

- [x] 7. UI 시스템 구현

- [x] 7.1 기본 UI 렌더링 시스템 구현

  - UI 요소 기본 클래스 구현
  - 텍스트 렌더링 유틸리티 구현
  - UI 레이어 관리 시스템 구현
  - _Requirements: 5.1, 5.2_

- [x] 7.2 체력 및 경험치 UI 구현

  - 체력 바 UI 구현
  - 경험치 바 UI 구현
  - 실시간 UI 업데이트 시스템 구현
  - _Requirements: 5.1, 5.2, 5.3_

- [x] 7.3 인벤토리 UI 구현

  - 인벤토리 화면 UI 구현
  - 아이템 아이콘 및 정보 표시 구현
  - 인벤토리 열기/닫기 기능 구현
  - _Requirements: 4.3_

- [x] 8. 게임 상태 관리 및 Scene 시스템 구현

- [x] 8.1 SceneManager 구현

  - Scene 기본 클래스 및 SceneManager 구현
  - 씬 전환 시스템 구현
  - 메모리 관리 (씬 변경 시 리소스 정리) 구현
  - _Requirements: 6.2, 6.3_

- [x] 8.2 GameScene 구현

  - 메인 게임플레이 씬 구현
  - 모든 게임 시스템 통합
  - 게임 루프 내 업데이트 순서 최적화
  - _Requirements: 전체 요구사항 통합_

- [x] 8.3 게임 오버 시스템 구현

  - 플레이어 체력 0 시 게임 오버 감지 구현
  - 게임 오버 화면 구현
  - 게임 재시작 기능 구현
  - _Requirements: 5.4_

- [x] 9. 맵 전환 시스템 구현

- [x] 9.1 맵 전환 트리거 시스템 구현

  - 맵 경계 또는 특정 지점에서의 전환 감지 구현
  - 맵 전환 시 플레이어 위치 조정 구현
  - 맵 전환 애니메이션 기본 구현
  - _Requirements: 6.2_

- [x] 9.2 다중 맵 관리 시스템 구현

  - 여러 맵 파일 로딩 및 관리 구현
  - 맵별 적 및 아이템 배치 시스템 구현
  - 맵 전환 시 게임 상태 유지 구현
  - _Requirements: 6.3_

- [x] 10. 게임 완성 및 최적화


- [x] 10.1 기본 게임 에셋 생성

  - 플레이어, 적, 아이템 기본 스프라이트 생성
  - 기본 맵 타일셋 생성
  - 테스트용 맵 데이터 생성
  - _Requirements: 2.2_

- [x] 10.2 성능 최적화 및 버그 수정

  - 프레임레이트 최적화 구현
  - 메모리 사용량 최적화 구현
  - 발견된 버그들 수정
  - _Requirements: 2.3_

- [x] 10.3 통합 테스트 및 게임플레이 검증

  - 전체 게임플레이 플로우 테스트 작성
  - 모든 요구사항 충족 여부 검증
  - 사용자 경험 개선사항 적용
  - _Requirements: 전체 요구사항 검증_
